<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Azure Function App with Rust</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        h1 {
            color: #0078d4;
            text-align: center;
        }
        .question-container {
            background-color: #f3f2f1;
            padding: 20px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .drag-drop-container {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }
        .drag-source {
            flex: 1;
            background-color: #f3f2f1;
            padding: 15px;
            border-radius: 5px;
            min-height: 300px;
        }
        .drop-target {
            flex: 2;
            background-color: #e5f5ff;
            padding: 15px;
            border-radius: 5px;
            min-height: 300px;
        }
        .drag-item {
            background-color: white;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 4px;
            border: 1px solid #ddd;
            cursor: move;
        }
        .drag-item:hover {
            background-color: #f0f0f0;
        }
        .requirement-item {
            margin-bottom: 20px;
            padding: 10px;
            background-color: white;
            border-radius: 4px;
            border: 1px solid #ddd;
        }
        .feature-drop {
            background-color: #3a3a3a;
            color: #ffcc00;
            padding: 5px 10px;
            border-radius: 3px;
            margin-left: 10px;
            display: inline-block;
            min-width: 150px;
        }
        .button-container {
            text-align: center;
            margin-top: 20px;
        }
        button {
            background-color: #0078d4;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background-color: #005a9e;
        }
        .answer-section {
            display: none;
            margin-top: 30px;
            background-color: #f3f2f1;
            padding: 20px;
            border-radius: 5px;
        }
        .answer-section h3 {
            color: #0078d4;
            margin-top: 0;
        }
        .correct-answer {
            background-color: #dff6dd;
            padding: 10px;
            border-radius: 4px;
            margin-bottom: 15px;
        }
        .explanation {
            background-color: white;
            padding: 15px;
            border-radius: 4px;
        }
        @media (max-width: 768px) {
            .drag-drop-container {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <h1>QUESTION NO: 261 DRAG DROP</h1>
    
    <div class="question-container">
        <p>You are developing an Azure Function app.</p>
        <p>The app must meet the following requirements:</p>
        <ul>
            <li>Enable developers to write the functions by using the Rust language.</li>
            <li>Declaratively connect to an Azure Blob Storage account.</li>
        </ul>
        <p>You need to implement the app.</p>
        <p>Which Azure Function app features should you use? To answer, drag the appropriate features to the correct requirements. Each feature may be used once, more than once, or not at all.</p>
        <p><strong>NOTE:</strong> Each correct selection is worth one point.</p>
    </div>
    
    <div class="drag-drop-container">
        <div class="drag-source" id="source">
            <div class="drag-item" draggable="true" data-id="custom-handler">Custom handler</div>
            <div class="drag-item" draggable="true" data-id="extension-bundle">Extension bundle</div>
            <div class="drag-item" draggable="true" data-id="trigger">Trigger</div>
            <div class="drag-item" draggable="true" data-id="runtime">Runtime</div>
            <div class="drag-item" draggable="true" data-id="policy">Policy</div>
            <div class="drag-item" draggable="true" data-id="hosting-plan">Hosting plan</div>
        </div>
        <div class="drop-target" id="target">
            <div class="requirement-item">
                Enable developers to write the functions by using the Rust language.
                <span class="feature-drop" id="drop-rust">Feature</span>
            </div>
            <div class="requirement-item">
                Declaratively connect to an Azure Blob Storage account.
                <span class="feature-drop" id="drop-blob">Feature</span>
            </div>
        </div>
    </div>
    
    <div class="button-container">
        <button id="check-answer">Check Answer</button>
    </div>
    
    <div id="answer-section" class="answer-section">
        <h3>Correct Answer and Explanation</h3>
        <div class="correct-answer">
            <p><strong>Correct Selections:</strong></p>
            <ul>
                <li>Enable Rust language: Custom handler</li>
                <li>Connect to Blob Storage: Trigger</li>
            </ul>
        </div>
        <div class="explanation">
            <p><strong>中文说明：</strong></p>
            <p>1. <strong>使用Rust语言开发函数</strong></p>
            <ul>
                <li>选择: Custom handler</li>
                <li>原因: Azure Functions自定义处理程序允许使用任何语言(包括Rust)编写函数</li>
                <li>自定义处理程序是一个轻量级HTTP服务器，接收来自Functions主机的请求</li>
                <li>这是官方支持的非原生语言集成方式</li>
            </ul>
            
            <p>2. <strong>声明式连接Blob Storage</strong></p>
            <ul>
                <li>选择: Trigger</li>
                <li>原因: 触发器不仅可以调用函数，某些触发器还作为绑定使用</li>
                <li>Blob Storage触发器提供声明式绑定功能</li>
                <li>通过function.json配置文件定义输入/输出绑定</li>
                <li>无需手动编写连接代码即可与Blob Storage交互</li>
            </ul>
            
            <p><strong>技术说明：</strong></p>
            <ul>
                <li>Custom handler架构:
                    <ol>
                        <li>Functions主机启动自定义HTTP服务器</li>
                        <li>通过HTTP协议与Rust编写的函数通信</li>
                        <li>支持所有HTTP功能</li>
                    </ol>
                </li>
                <li>Trigger绑定特点:
                    <ol>
                        <li>Blob Storage触发器既是触发器也是绑定</li>
                        <li>自动处理连接和安全凭据</li>
                        <li>支持Blob创建/更新事件触发</li>
                    </ol>
                </li>
                <li>组合使用Custom handler和Trigger可实现:
                    <ol>
                        <li>多语言支持(Rust)</li>
                        <li>声明式Azure服务集成</li>
                        <li>事件驱动架构</li>
                    </ol>
                </li>
            </ul>
            
            <p><strong>参考文档：</strong> 
            <a href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-custom-handlers" target="_blank">Azure Functions自定义处理程序</a> | 
            <a href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-bindings-storage-blob-trigger" target="_blank">Azure Blob Storage触发器</a></p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const source = document.getElementById('source');
            const target = document.getElementById('target');
            const dropRust = document.getElementById('drop-rust');
            const dropBlob = document.getElementById('drop-blob');
            const checkAnswerBtn = document.getElementById('check-answer');
            const answerSection = document.getElementById('answer-section');
            
            let draggedItem = null;
            
            // Drag start event
            source.addEventListener('dragstart', function(e) {
                if (e.target.classList.contains('drag-item')) {
                    draggedItem = e.target;
                    e.dataTransfer.setData('text/plain', e.target.dataset.id);
                    setTimeout(() => {
                        e.target.style.opacity = '0.4';
                    }, 0);
                }
            });
            
            // Drag end event
            source.addEventListener('dragend', function(e) {
                if (e.target.classList.contains('drag-item')) {
                    setTimeout(() => {
                        e.target.style.opacity = '1';
                        draggedItem = null;
                    }, 0);
                }
            });
            
            // Drag over event for drop targets
            [dropRust, dropBlob].forEach(dropTarget => {
                dropTarget.addEventListener('dragover', function(e) {
                    e.preventDefault();
                });
                
                dropTarget.addEventListener('drop', function(e) {
                    e.preventDefault();
                    if (draggedItem) {
                        this.textContent = draggedItem.textContent;
                        this.style.backgroundColor = '#4CAF50';
                        this.style.color = 'white';
                        this.dataset.selectedFeature = draggedItem.dataset.id;
                    }
                });
            });
            
            // Check answer button
            checkAnswerBtn.addEventListener('click', function() {
                // Check answers
                const rustAnswer = dropRust.dataset.selectedFeature;
                const blobAnswer = dropBlob.dataset.selectedFeature;
                
                if (rustAnswer === 'custom-handler') {
                    dropRust.style.backgroundColor = '#4CAF50';
                } else {
                    dropRust.style.backgroundColor = '#FF5722';
                }
                
                if (blobAnswer === 'trigger') {
                    dropBlob.style.backgroundColor = '#4CAF50';
                } else {
                    dropBlob.style.backgroundColor = '#FF5722';
                }
                
                answerSection.style.display = 'block';
                window.scrollTo({
                    top: answerSection.offsetTop,
                    behavior: 'smooth'
                });
            });
        });
    </script>
</body>
</html>
